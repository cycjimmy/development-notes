# Linux常用命令

## 一、命令基本格式
### 命令 \[选项\] \[参数\]

* `ls [选项] [文件或目录]`
  * 选项
    * `-a` 所有文件（包括隐藏）
    * `-l` 详细信息
    * `-d` 目录属性
    * `-h` 人性化显示文件大小
    * `-i` 显示innode

* `ll` 是 `ls -l` 的别名

## 二、文件处理命令
### 1.目录或文件处理命令
* 建立目录 `mkdir -p [目录名]`
* 切换目录 `cd [目录]`
* 查询所在目录位置 `pwd`
* 删除空目录(一般不用) `rmdir [目录名]`
* 删除文件或目录 `rm [选项] [文件或目录]`
  * 选项
    * `-r` 删除目录
    * `-f` 强制
* 复制文件或目录 `cp [选项] [源文件或目录] [目标目录]`
  * 选项
      * `-r` 复制目录
      * `-p` 连带文件属性复制
      * `-d` 若源文件是链接文件，则复制链接属性
      * `-a` 相当于-pdr
* 剪切或改密命令 `mv [原文件或目录] [目标目录]`

#### 常用类型目录
* `/` 根目录
* `/bin` 命令保存目录
* `/boot` 启动目录
* `/dev` 设备文件
* `/etc` 配置文件
* `/home` 普通用户家目录
* `/lib` 系统库
* `/mnt` 挂载目录
* `/root` 超级用户的家目录
* `/tmp` 临时目录
* `/sbin` 命令保存目录（超级用户）
* `/proc` 内存的过载点
* `/sys` 内存的过载点
* `/usr` 系统软件资源
* `/var` 系统相关文档内容

### 2.链接命令
* `生成链接文件 ln [选项] [目标文件]`
  * 选项
    * `-s` 创建软链接
  * 注意：不在同一目录创建软链接时，目标文件需要写绝对路径

#### 硬链接特征
* 拥有相同的i节点和存储block块
* 可通过i节点识别
* 不能跨分区
* 不能针对目录是用

#### 软链接特征
* 类似windows快捷方式
* 拥有自己的i节点和block块，但数据块种只保存原文件的文件名和i节点好，并没有时机的文件数据
* lrwxrwxrwx
* 修改任意文件，另一个都改变
* 删除原文件，软链接不能使用

## 三、文件搜索命令
### 文件名搜索命令locate
* `locate 文件名`
  * 在后台数据库种进行搜索，数据库大概每天自动更新一次，也可以手动用 `updatedb` 更新
  * locate的配置文件 /etc/updatedb.conf
    * `PRUNE_BIND_MOUNTS` 是否开启搜索限制
    * `PRUNEFS` 搜索时，不搜索的文件系统
    * `PRUNENAMES` 搜索时，不搜索的文件类型
    * `PRUNEPATHS` 搜索时，不搜索的路径

### 命令搜索命令whereis/which
* `whereis 命令名`
  * 搜索命令所在路径及帮助文档所在地址
  * 选项：
    * `-b` 只查找可执行文件
    * `-m` 只查找帮助文件
* `which 命令名`
  * 搜索命令所在的路径及别名

### 文件搜索命令find
* `find [搜索范围] [搜索条件]`
  * 搜索范围
  * 搜索条件：选项+条件
    * 选项：
      * 搜索选项：
        * `-name` 按照文件名搜索
        * `-iname` 不区分大小写
        * `-user` 按照所有者搜索
        * `-nouser` 按照没有所有者的文件
        * `-mtime` 按照修改文件内容的时间搜索
        * `-atime` 按照文件访问时间搜索
        * `-ctime` 按照改变文件属性时间搜索
        * `-size` 按照文件大小查找
        * `-inum` 按照i节点查找
      * 其他：
        * `-a` 逻辑与 and
        * `-o` 逻辑或 or
        * `-exec 命令 {} \;` 对搜索结果执行操作

### 字符串搜索命令grep
* `grep [选项] 字符串 文件名` 
  * 在文件当中匹配符合条件的字符串
  * 选项：
    * `-i` 忽略大小写
    * `-v` 排除指定字符串
    
### find命令与grep命令的区别
* find命令：在系统中搜索符合条件的文件，使用通配符，完全匹配
* grep命令：在文件中搜索符合条件的字符串，使用正则表达式，包含匹配

## 四、帮助命令
* `man 命令`
  * 获取指定命令的帮助
  * man的级别
    * `1` 查看命令的帮助
    * `2` 查看可被内核调用的函数的帮助
    * `3` 查看函数和函数库的帮助
    * `4` 查看特殊文件的帮助（主要是/dev目录下的文件）
    * `5` 查看配置文件的帮助
    * `6` 查看游戏的帮助
    * `7` 查看其他杂项的帮助
    * `8` 查看系统管理员可用的帮助
    * `9` 查看和内核相关文件的帮助
  * `man -级别 命令`
    * 查看该级别命令的帮助
  * `man -f 命令`
    * 查看命令拥有哪个级别的帮助
    * 相当于 `whatis 命令`
  * `man -k 命令`
    * 查看和命令相关的所有帮助
    * 相当于 `apropos 命令`
* 其他帮助命令
  * 选项帮助
    * `命令 --help` 获取命令选项的帮助
  * shell内部命令帮助
    * `help shell内部命令` 获取shell内部命令的帮助
    * 可以用 `whereis 命令` 确定是否是shell内部命令
  * 详细命令帮助info
    * `info 命令`
      * `-回车` 进入子帮助页面（带有\*号标记）
      * `-u` 进入上层页面
      * `-n` 进入下一个帮助小节
      * `-p` 进入上一个帮助小节
      * `-q` 退出

## 五、压缩与解压缩命令
* 常用压缩格式
  * `.zip`
  * `.gz`
  * `.bz2`
  * `.tar.gz`
  * `.tar.bz2`
* .zip格式
  * `zip 压缩文件名 源文件` 压缩文件
  * `zip -r 压缩文件名 源目录` 压缩目录
  * `unzip 压缩文件` 解压缩
* .gz格式
  * `gzip 源文件` 压缩为.gz格式，源文件会消失
  * `gzip -c 源文件 > 压缩文件` 压缩为.gz格式，源文件保留
  * `gzip -r 目录` 压缩目录下所有的子文件，但是不能压缩目录
  * `gzip -d 压缩文件` 解压缩
  * `gunzip 压缩文件` 解压缩
* .bz2格式
  * `bzip2 源文件` 压缩为.bz2格式，不保留源文件
  * `bzip2 -k 源文件` 压缩为.bz2格式，保留源文件
  * bzip2命令不能压缩目录
  * `bzip2 -d 压缩文件` 解压缩，-k保留压缩文件
  * `bunzip2 压缩文件` 解压缩，-k保留压缩文件
* .tar.gz格式和.tar.bz2格式
  * tar命令
    * `tar -cvf 打包文件名 源文件` 打包命令
      * 选项
        * `-c` 打包
        * `-v` 显示过程
        * `-f` 指定打包后的文件名
    * `tar -xvf 打包文件名` 解打包命令
      * 选项
        * `-x` 解打包
  * 打包压缩
    * `tar -zcvf 压缩包名.tar.gz 源文件` 
      * 选项
        * `-z` 压缩为.tar.gz格式
    * `tar -jcvf 压缩包名.tar.gz 源文件` 
      * 选项
        * `-j` 压缩为.tar.bz2格式
  * 解压缩打包文件
    * `tar -zxvf 压缩包名.tar.gz` 后面可以跟 `-C 指定解压缩位置`
      * 选项
        * `-zx` 解压缩.tar.gz格式
    * `tar -jxvf 压缩包名.tar.gz` 后面可以跟 `-C 指定解压缩位置`
      * 选项
        * `-jx` 压缩为.tar.bz2格式
  
## 六、关机和重启命令
* `shutdown [选项] 时间` 比较安全，推荐使用
  * 选项：
    * `-c` 取消前一个关机命令
    * `-h` 关机
    * `-r` 重启
* 其他关机命令
  * `halt`
  * `poweroff`
  * `init 0`
* 其他重启命令
  * `reboot`
  * `init 6`
* 系统运行级别
  * 级别
    * `0` 关机
    * `1` 单用户
    * `2` 不完全多用户，不含NFS服务
    * `3` 完全多用户
    * `4` 未分配
    * `5` 图形界面
    * `6` 重启
  * `cat /etc/inittab` 修改系统默认运行级别
  * `runlevel` 查询系统运行级别
* `logout` 退出登录

## 七、其他常用命令




